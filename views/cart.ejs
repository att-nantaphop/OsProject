<!DOCTYPE html>
<html lang="en"></html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop something</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" 
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" 
    integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>

    

    <link rel="stylesheet" href="/stylesheets/style.css">
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-light bg-light py-3 fixed-top">
        <div class="container">
          <img src="/images/newlogo.png">
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" 
          aria-expanded="false" aria-label="Toggle navigation">
            <span><i id="bar" class="fas fa-bars"></i></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ml-auto">
              
              <li class="nav-item">
                <a class="nav-link" href="/index">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/Shop">Shop</a>
              </li>
              <!-- <li class="nav-item"><a class="nav-link" href="/login">Account</a></li> -->
              <li class="nav-item">
                <a class="nav-link" href="/login">Log Out</a>
              </li>
              <li class="cart">
                <a href="/cart">
                  <i class="fas fa-shopping-cart"></i><span>0</span>
                </a>
              </li>
          </div>
        </div>
      </nav>

      <div class="pd-container cart-page">
        
        <table>
        <tr>
          <th >PRODUCT</th>
          <th >QUANTITY</th>
          <th >TOTAL</th>
        </tr>
        <tr>
          <td>
            <div class="cart-info">
              <img src="/images/Unisex Dry.jpg">
              <div>
                <p>Unisex Dry</p>
                <small>Price: THB190.00</small>
                <br>
                <a href="">remove</a>
              </div>
            </div>

          </td>
          <td><input type="number" value="1"></td>
          <td>THB190.00</td>
        </tr>
        <tr>
          <td>
            <div class="cart-info">
              <img src="/images/MEN Dry-EX Marvel.jpg">
              <div>
                <p>MEN Dry-EX Marvel</p>
                <small>Price: THB590.00</small>
                <br>
                <a href="">remove</a>
              </div>
            </div>

          </td>
          <td><input type="number" value="1"></td>
          <td>THB590.00</td>
        </tr>
        <tr>
          <td>
            <div class="cart-info">
              <img src="/images/MEN +J Polo.jpg">
              <div>
                <p>MEN +J Polo</p>
                <small>Price: THB790.00</small>
                <br>
                <a href="">remove</a>
              </div>
            </div>

          </td>
          <td><input type="number" value="1"></td>
          <td>THB970.00</td>
        </tr>
        
        </table>

        <div class="total-price">

          <table>
            <tr>
              <td>Total</td>
              <td>THB1,570.00</td>
            </tr>
          </table>
        </div>

      </div>


      <footer class="mt-5 pt-5">
        <div class="row container mx-auto pt-5">
          <div class="footer-one col-lg-3 col-md-6 col-12">
            <h5 class="pb-2">Shop</h5>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet numquam aspernatur!</p>
          </div>
          <div class="footer-one col-lg-3 col-md-6 col-12">
            <h5 class="pb-2">featured</h5>
            <ul class="text-uppercase list-unstyled">
              <li><a href="#">Men</a></li>
              <li><a href="#">Women</a></li>
              <li><a href="#">Kid</a></li>
            </ul>
          </div>
              <div class="footer-one col-lg-3 col-md-6 col-12">
              <h5 class="pb-2" id="Contact">Contact Us</h5>
              <div>
                <h6 class="text-upercase">Address</h6>
                <p>123 STREET NAME, CITY, US</p>
              </div>
              <div>
                <h6 class="text-upercase">Phone</h6>
                <p>(123) 456-7890</p>
              </div>
              <div>
                <h6 class="text-upercase">Email</h6>
                <p>MAIL@EXAMPLE.COM</p>
              </div>
          </div>
              <div class="footer-one col-lg-3 col-md-6 col-12">
                <h5 class="pb-2">Follow Us</h5>
                <div>
                  <p>Facebook</p>
                </div>
                <div>
                  <p>Twitter</p>
                </div>
                <div>
                  <p>Instagram</p>
                </div>
                <div>
                  <p>Youtube</p>
                </div>
          </div>
        </div>
  
        <div class="copyright mt-5">
          <div class="row cotainer ma-auto">
  
            <div class="container">
              <p class="m-0 text-center ">Copyright &copy; Your Website 2021</p>
            </div>
          </div>
  
        </div>
      </footer>
      
      
      <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" 
      integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" 
      crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.min.js" 
  integrity="sha384-lpyLfhYuitXl2zRZ5Bn2fqnhNAKOAaM/0Kr9laMspuaMiZfGmfwRNFh8HlMy49eQ" 
  crossorigin="anonymous"></script>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" 
    integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" 
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.min.js" 
integrity="sha384-lpyLfhYuitXl2zRZ5Bn2fqnhNAKOAaM/0Kr9laMspuaMiZfGmfwRNFh8HlMy49eQ" 
crossorigin="anonymous"></script>
</div>

<script>
  let carts = document.querySelectorAll('.buy-btn');

let product =[
    {
        name: 'Unisex Dry',
        tag: 'Unisex Dry',
        price: 190,
        inCart: 0

    },
    {
        name: 'MEN Dry-EX Marvel',
        tag: 'MEN Dry-EX Marvel',
        price: 590,
        inCart: 0

    },
    {
        name: 'MEN +J Polo',
        tag: 'MEN +J Polo',
        price: 790,
        inCart: 0

    },
    {
        name: 'GRIL AIRism Cotton',
        tag: 'GRIL AIRism Cotton',
        price: 290,
        inCart: 0

    }
]

for (let i = 0 ; i < carts.length ; i++) {
    carts[i].addEventListener('click', () => {
        cartNumbers(product[i]);
        totalCost(product[i]);
    })
}
function onLoadCartNumbers() {
    let productNumbers = localStorage.getItem('cartNumbers');

    if(productNumbers) {
        document.querySelector('.cart span').textContent = productNumbers;
    }
}

function cartNumbers(product){
    let productNumbers = localStorage.getItem('cartNumbers');

    productNumbers = parseInt(productNumbers);

    if(productNumbers){
        localStorage.setItem('cartNumbers', productNumbers + 1);
        document.querySelector('.cart span').textContent = productNumbers + 1;
    }else{
        localStorage.setItem('cartNumbers', 1);
        document.querySelector('.cart span').textContent = 1;
    }  

    setItem(product);
}

function setItem(product) {
    let cartItems = localStorage.getItem('productsInCart');
    cartItems = JSON.parse(cartItems)
    
    if(cartItems != null){
        if(cartItems[product.tag] == undefined){
            cartItems ={
                ...cartItems,[product.tag]: product
            }
        }
        cartItems[product.tag].inCart += 1;
    }else{
        product.inCart = 1;
        cartItems = {
            [product.tag]: product
        }
    }
    
    localStorage.setItem("productsInCart", JSON.stringify(cartItems));
}

onLoadCartNumbers();
displayCart();
</script>
